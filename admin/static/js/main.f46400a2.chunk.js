(this["webpackJsonpcameras-admin"]=this["webpackJsonpcameras-admin"]||[]).push([[0],{115:function(e,t,a){e.exports=a(140)},120:function(e,t,a){},130:function(e){e.exports=JSON.parse('{"Are you sure?":"Are you sure?","Cancel":"Cancel","Close":"Close","Error":"Error","Load configuration from file":"Load configuration from file","Ok":"Ok","Options":"Options","Save":"Save","Save and close":"Save and close","Save configuration to file":"Save configuration to file","Success":"Success","Test connection":"Test connection","Type":"Type","not connected":"not connected","Description":"Description","Name":"Name","Test":"Test","Apply":"Apply","Username":"User name","Password":"Password","Edit camera %s [%s]":"Edit camera %s [%s]"}')},131:function(e){e.exports=JSON.parse('{"Are you sure?":"Bist du sicher?","Cancel":"Abbrechen","Close":"Schlie\xdfen","Error":"Fehler","Load configuration from file":"Konfiguration aus Datei laden","Ok":"Ok","Options":"Optionen","Save":"speichern","Save and close":"Speichern und schlie\xdfen","Save configuration to file":"Konfiguration in Datei speichernn","Success":"Erfolgreich","Test connection":"Testverbindung","Type":"Typ","not connected":"nicht verbunden","Description":"Beschreibung","Name":"Name","Test":"Pr\xfcfung","Apply":"Speichern","Username":"Nutzername","Password":"Passwort","Edit camera %s [%s]":"Kamera bearbeiten %s [%s]"}')},132:function(e){e.exports=JSON.parse('{"Are you sure?":"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?","Cancel":"\u041e\u0442\u043c\u0435\u043d\u0430","Close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","Error":"\u041e\u0448\u0438\u0431\u043a\u0430","Load configuration from file":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0437 \u0444\u0430\u0439\u043b\u0430","Ok":"Ok","Options":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","Save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","Save and close":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c","Save configuration to file":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0432 \u0444\u0430\u0439\u043b","Success":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e","Test connection":"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435","Type":"\u0422\u0438\u043f","not connected":"\u041d\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d","Description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","Name":"\u0438\u043c\u044f","Test":"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435","Apply":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","Username":"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","Password":"\u043f\u0430\u0440\u043e\u043b\u044c","Edit camera %s [%s]":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043c\u0435\u0440\u0443 %s [%s]"}')},133:function(e){e.exports=JSON.parse('{"Are you sure?":"Voc\xea tem certeza?","Cancel":"Cancelar","Close":"Fechar","Error":"Erro","Load configuration from file":"Carregar configura\xe7\xe3o do arquivo","Ok":"Est\xe1 bem","Options":"Op\xe7\xf5es","Save":"Salve \ue051","Save and close":"Salvar e fechar","Save configuration to file":"Salvar configura\xe7\xe3o no arquivo","Success":"Sucesso","Test connection":"Conex\xe3o de teste","Type":"Tipo","not connected":"n\xe3o conectado","Description":"Descri\xe7\xe3o","Name":"Nome","Test":"Teste","Apply":"Aplique","Username":"Nome do usu\xe1rio","Password":"Senha","Edit camera %s [%s]":"Editar c\xe2mera %s [%s]"}')},134:function(e){e.exports=JSON.parse('{"Are you sure?":"Weet je het zeker?","Cancel":"annuleren","Close":"Dichtbij","Error":"Fout","Load configuration from file":"Laad de configuratie uit het bestand","Ok":"OK","Options":"opties","Save":"Opslaan","Save and close":"Opslaan en afsluiten","Save configuration to file":"Configuratie opslaan in bestand","Success":"Succes","Test connection":"Test verbinding","Type":"Type","not connected":"niet verbonden","Description":"Omschrijving","Name":"Naam","Test":"Test","Apply":"Van toepassing zijn","Username":"Gebruikersnaam","Password":"Wachtwoord","Edit camera %s [%s]":"Camera %s [%s] bewerken"}')},135:function(e){e.exports=JSON.parse('{"Are you sure?":"\xcates-vous s\xfbr?","Cancel":"Annuler","Close":"Fermer","Error":"Erreur","Load configuration from file":"Charger la configuration \xe0 partir du fichier","Ok":"D\'accord","Options":"Les options","Save":"sauvegarder","Save and close":"Sauver et fermer","Save configuration to file":"Enregistrer la configuration dans un fichier","Success":"Succ\xe8s","Test connection":"Tester la connexion","Type":"Type","not connected":"pas connect\xe9","Description":"La description","Name":"Nom","Test":"Tester","Apply":"Appliquer","Username":"Nom d\'utilisateur","Password":"Mot de passe","Edit camera %s [%s]":"Modifier la cam\xe9ra %s [%s]"}')},136:function(e){e.exports=JSON.parse('{"Are you sure?":"Sei sicuro?","Cancel":"Annulla","Close":"Vicino","Error":"Errore","Load configuration from file":"Carica la configurazione dal file","Ok":"Ok","Options":"Opzioni","Save":"Salva","Save and close":"Salva e chiudi","Save configuration to file":"Salva la configurazione in un file","Success":"Successo","Test connection":"Test di connessione","Type":"Genere","not connected":"non connesso","Description":"Descrizione","Name":"Nome","Test":"Test","Apply":"Applicare","Username":"Nome utente","Password":"Parola d\'ordine","Edit camera %s [%s]":"Modifica fotocamera %s [%s]"}')},137:function(e){e.exports=JSON.parse('{"Are you sure?":"\xbfEst\xe1s seguro?","Cancel":"Cancelar","Close":"Cerca","Error":"Error","Load configuration from file":"Cargar configuraci\xf3n desde archivo","Ok":"Ok","Options":"Opciones","Save":"Salvar","Save and close":"Guardar y cerrar","Save configuration to file":"Guardar configuraci\xf3n en archivo","Success":"\xc9xito","Test connection":"Conexi\xf3n de prueba","Type":"Tipo","not connected":"no conectado","Description":"Descripci\xf3n","Name":"Nombre","Test":"Prueba","Apply":"Aplicar","Username":"Nombre de usuario","Password":"Contrase\xf1a","Edit camera %s [%s]":"Editar c\xe1mara %s [%s]"}')},138:function(e){e.exports=JSON.parse('{"Are you sure?":"Jeste\u015b pewny?","Cancel":"Anuluj","Close":"Blisko","Error":"B\u0142\u0105d","Load configuration from file":"Za\u0142aduj konfiguracj\u0119 z pliku","Ok":"Dobrze","Options":"Opcje","Save":"Zapisa\u0107","Save and close":"Zapisz i zamknij","Save configuration to file":"Zapisz konfiguracj\u0119 do pliku","Success":"Sukces","Test connection":"Testuj po\u0142\u0105czenie","Type":"Rodzaj","not connected":"nie po\u0142\u0105czony","Description":"Opis","Name":"Imi\u0119","Test":"Test","Apply":"Zastosowa\u0107","Username":"Nazwa U\u017cytkownika","Password":"Has\u0142o","Edit camera %s [%s]":"Edytuj kamer\u0119 %s [%s]"}')},139:function(e){e.exports=JSON.parse('{"Are you sure?":"\u4f60\u786e\u5b9a\u5417\uff1f","Cancel":"\u53d6\u6d88","Close":"\u5173","Error":"\u9519\u8bef","Load configuration from file":"\u4ece\u6587\u4ef6\u52a0\u8f7d\u914d\u7f6e","Ok":"\u597d","Options":"\u9009\u4ef6","Save":"\u4fdd\u5b58","Save and close":"\u4fdd\u5b58\u5e76\u5173\u95ed","Save configuration to file":"\u5c06\u914d\u7f6e\u4fdd\u5b58\u5230\u6587\u4ef6","Success":"\u6210\u529f","Test connection":"\u6d4b\u8bd5\u8fde\u63a5","Type":"\u7c7b\u578b","not connected":"\u672a\u8fde\u63a5","Description":"\u63cf\u8ff0","Name":"\u540d\u79f0","Test":"\u6d4b\u8bd5","Apply":"\u5e94\u7528","Username":"\u7528\u6237\u540d","Password":"\u5bc6\u7801","Edit camera %s [%s]":"\u7f16\u8f91\u76f8\u673a%s [%s]"}')},140:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(12),i=a.n(r),o=a(173),c=(a(120),a(21)),l=a(22),p=a(27),u=a(25),d=a(5),m=a(178),h=a(181),f=a(179),v=a(93),g=a.n(v),y=a(73),b=a.n(y),S=a(9),E=a.n(S),C=a(184),k=a(46),N=a.n(k),O=a(90),T=a(88),w=a(175),x=a(180),A=a(185),j=a(187),J=a(55),D=a(94),I=a.n(D),L=a(72),U=a.n(L),z=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n,s;return Object(c.a)(this,a),(n=t.call(this,e)).state={showHint:!1,toast:"",ips:[],requesting:!0,webInstances:[]},n.props.getIpAddresses().then((function(e){return s=e})).then((function(){return n.props.getExtendableInstances()})).then((function(e){return n.setState({requesting:!1,ips:s,webInstances:e.map((function(e){return e._id.replace("system.adapter.","")}))})})),n}return Object(l.a)(a,[{key:"showError",value:function(e){this.setState({errorText:e})}},{key:"renderError",value:function(){var e=this;return this.state.errorText?s.a.createElement(U.a,{text:this.state.errorText,title:E.a.t("Error"),onClose:function(){return e.setState({errorText:""})}}):null}},{key:"renderToast",value:function(){var e=this;return this.state.toast?s.a.createElement(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:function(){return e.setState({toast:""})},ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("span",{id:"message-id"},this.state.toast),action:[s.a.createElement(T.a,{key:"close","aria-label":"Close",color:"inherit",className:this.props.classes.close,onClick:function(){return e.setState({toast:""})}},s.a.createElement(J.MdClose,null))]}):null}},{key:"renderHint",value:function(){var e=this;return this.state.showHint?s.a.createElement(N.a,{text:E.a.t("Click now Get new connection certificates to request new temporary password"),onClose:function(){return e.setState({showHint:!1})}}):null}},{key:"renderSettings",value:function(){var e=this;return[this.state.ips&&this.state.ips.length?s.a.createElement(w.a,{key:"bindSelect",className:this.props.classes.bind},s.a.createElement(j.a,null,E.a.t("Local IP address")),s.a.createElement(x.a,{disabled:this.state.requesting,value:this.props.native.bind,onChange:function(t){return e.props.onChange("bind",t.target.value)}},this.state.ips.map((function(e){return s.a.createElement(A.a,{value:e.address},e.name)})))):s.a.createElement(C.a,{disabled:this.state.requesting,key:"bind",className:this.props.classes.bind,label:E.a.t("Local IP address"),value:this.props.native.bind,onChange:function(t){return e.props.onChange("bind",t.target.value)}}),s.a.createElement(C.a,{disabled:this.state.requesting,key:"port",type:"number",min:1,max:65535,className:this.props.classes.port,label:E.a.t("Local port"),value:this.props.native.port,onChange:function(t){return e.props.onChange("port",t.target.value)}}),s.a.createElement("br",{key:"br1"}),s.a.createElement(C.a,{disabled:this.state.requesting,key:"defaultTimeout",type:"number",min:0,max:1e4,className:this.props.classes.defaultTimeout,label:E.a.t("Default timeout (ms)"),value:this.props.native.defaultTimeout,onChange:function(t){return e.props.onChange("defaultTimeout",t.target.value)}}),s.a.createElement("br",{key:"br2"}),s.a.createElement(w.a,{key:"webInstanceSelect",className:this.props.classes.bind},s.a.createElement(j.a,null,E.a.t("WEB Instance")),s.a.createElement(x.a,{disabled:this.state.requesting,value:this.props.native.bind,onChange:function(t){return e.props.onChange("bind",t.target.value)}},s.a.createElement(A.a,{value:"*"},E.a.t("All")),this.state.webInstances?this.state.webInstances.map((function(e){return s.a.createElement(A.a,{value:e},e)})):null))]}},{key:"renderMessage",value:function(){var e=this;return this.state.messageText?s.a.createElement(N.a,{title:E.a.t("Success"),onClose:function(){return e.setState({messageText:""})}},this.state.messageText):null}},{key:"checkConnection",value:function(){var e=this;this.setState({requesting:!0},(function(){return e.props.socket.sendTo(e.props.adapterName+"."+e.props.instance,"test",e.props.native,(function(t){t.error?e.setState({requesting:!1},(function(){return e.showError(E.a.t(t.error))})):e.setState({messageText:t.result,requesting:!1})}))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:this.props.classes.tab},s.a.createElement(I.a,{instance:this.props.instance,common:this.props.common,native:this.props.native,onError:function(t){return e.setState({errorText:t})},onLoad:this.props.onLoad}),this.renderSettings(),s.a.createElement("br",null),this.renderHint(),this.renderToast(),this.renderMessage(),this.renderError())}}]),a}(n.Component),q=Object(d.a)((function(e){return{tab:{width:"100%",minHeight:"100%"},bind:{marginRight:10,marginBottom:20,minWidth:200},port:{width:100},defaultTimeout:{width:150}}}))(z),B=a(85),P=a(81),H=a(91),M=a(82),W=a(83),R=a(84),F=a(99),V=a.n(F),Z=a(96),G=a.n(Z),_=a(100),K=a.n(_),$=a(97),Q=a.n($),X=a(98),Y=a.n(X),ee=a(95),te=a.n(ee),ae=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var s=JSON.parse(JSON.stringify(n.props.settings));return s.url=s.url||"",n.state=s,n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.classes.page},s.a.createElement(C.a,{key:"url",className:this.props.classes.url,label:E.a.t("Camera URL"),value:this.state.url,onChange:function(t){e.setState({url:t.target.value},(function(){return e.props.onChange({url:e.state.url})}))}}))}}]),a}(n.Component),ne=Object(d.a)((function(e){return{page:{width:"100%"},url:{width:"100%"}}}))(ae),se=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var s=JSON.parse(JSON.stringify(n.props.settings));return s.url=s.url||"",s.password=s.password||"",s.username=s.username||"",s.timeout=s.timeout||1e3,n.state=s,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.decrypt(this.state.password,(function(t){return e.setState({password:t})}))}},{key:"reportSettings",value:function(){var e=this;this.props.encrypt(this.state.password,(function(t){e.props.onChange({url:e.state.url,username:e.state.username,password:t})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.classes.page},s.a.createElement(C.a,{key:"url",className:this.props.classes.url,label:E.a.t("Camera URL"),value:this.state.url,onChange:function(t){return e.setState({url:t.target.value},(function(){return e.reportSettings()}))}}),s.a.createElement("br",null),s.a.createElement(C.a,{key:"username",autoComplete:"off",className:this.props.classes.username,label:E.a.t("Username"),value:this.state.username,onChange:function(t){return e.setState({username:t.target.value},(function(){return e.reportSettings()}))}}),s.a.createElement("br",null),s.a.createElement(C.a,{key:"password",type:"password",autoComplete:"off",className:this.props.classes.password,label:E.a.t("Password"),value:this.state.password,onChange:function(t){return e.setState({password:t.target.value},(function(){return e.reportSettings()}))}}))}}]),a}(n.Component),re={url:{Config:ne,name:"URL"},urlBasicAuth:{Config:Object(d.a)((function(e){return{page:{width:"100%"},url:{width:"100%"}}}))(se),name:"URL with basic auth"}},ie=["name","desc","type"],oe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={editCam:!1,editChanged:!1,requesting:!1,instanceAlive:n.props.instanceAlive,webInstanceHost:""},Object.keys(re).forEach((function(e){re[e].name&&!re[e].translated&&(re[e].translated=!0,re[e].name=E.a.t(re[e].name))})),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getWebInstances()}},{key:"getWebInstances",value:function(){var e=this;this.props.socket.getAdapterInstances("web").then((function(t){var a=null;"*"===e.props.native.webInstance?a=t[Object.keys(t)[0]]:a=t[Object.keys(t).find((function(t){return t.endsWith(e.props.native.webInstance)}))];a&&(a.native=a.native||{}),a.native.bind&&"0.0.0.0"!==a.native.bind||(a.native.bind=window.location.hostname),a&&e.setState({webInstanceHost:a.native.bind+":"+(a.native.port||8082)})}))}},{key:"renderMessage",value:function(){var e=this;return this.state.message?s.a.createElement(N.a,{text:this.state.message,onClose:function(){return e.setState({message:""})}}):null}},{key:"onTest",value:function(){var e=this,t=JSON.parse(this.editedSettings||this.editedSettingsOld);ie.forEach((function(a){return t[a]=e.props.native.cameras[e.state.editCam][a]}));var a=setTimeout((function(){a=null,e.setState({message:"Timeout",requesting:!1})}),t.timeout||this.props.native.defaultTimeout);this.setState({requesting:!0},(function(){e.props.socket.sendTo(e.props.adapterName+"."+e.props.instance,"test",t,(function(t){if(a&&clearTimeout(a),t&&t.body&&!t.error)e.setState({testImg:t.body,requesting:!1});else{var n=t&&t.error?t.error:E.a.t("No answer");"string"!==typeof n&&(n=JSON.stringify(n)),e.setState({message:n,requesting:!1})}}))}))}},{key:"renderConfigDialog",value:function(){var e=this;if(!1!==this.state.editCam){var t=this.props.native.cameras[this.state.editCam],a=(re[t.type]||re.url).Config;return s.a.createElement(H.a,{maxWidth:"lg",fullWidth:!0,open:!0,onClose:function(){return null!==e.state.editCam&&e.setState({editCam:!1,editChanged:!1})}},s.a.createElement(R.a,null,E.a.t("Edit camera %s [%s]",t.name,t.type)),s.a.createElement(W.a,null,s.a.createElement("div",{className:this.props.classes.divConfig},s.a.createElement(a,{settings:t,onChange:function(t){e.editedSettings=JSON.stringify(t),e.editedSettingsOld===e.editedSettings&&e.state.editChanged?e.setState({editChanged:!1}):e.editedSettingsOld===e.editedSettings||e.state.editChanged||e.setState({editChanged:!0})},encrypt:function(t,a){return e.props.encrypt(t,a)},decrypt:function(t,a){return e.props.decrypt(t,a)}}),s.a.createElement("div",{className:this.props.classes.sampleUrl},E.a.t("Local URL"),": ",s.a.createElement("a",{href:"http://".concat(this.props.native.bind,":").concat(this.props.native.port,"/").concat(t.name,"?key=").concat(this.props.native.key),target:"_blank",rel:"noopener noreferrer"},"URL: http://",this.props.native.bind,":",this.props.native.port,"/",t.name,"?key=",this.props.native.key)),s.a.createElement("div",{className:this.props.classes.sampleUrl},E.a.t("Web URL"),": ",s.a.createElement("a",{href:"http://".concat(this.state.webInstanceHost,"/").concat(this.props.adapterName,".").concat(this.props.instance,"/").concat(t.name),target:"_blank",rel:"noopener noreferrer"},"URL: http://",this.state.webInstanceHost,"/",this.props.adapterName,".",this.props.instance,"/",t.name))),s.a.createElement("div",{className:this.props.classes.divTestCam},s.a.createElement(P.a,{disabled:this.state.requesting||!this.state.instanceAlive,variant:"contained",color:"primary",size:"small",className:this.props.classes.buttonTest,onClick:function(){return e.onTest()},startIcon:s.a.createElement(te.a,null)},E.a.t("Test")),this.state.testImg?s.a.createElement("img",{alt:"test",className:this.props.classes.imgTest,src:this.state.testImg}):null)),s.a.createElement(M.a,null,s.a.createElement(P.a,{disabled:!this.state.editChanged,onClick:function(){var t=JSON.parse(JSON.stringify(e.props.native.cameras));if(e.editedSettings){var a=t[e.state.editCam];t[e.state.editCam]=JSON.parse(e.editedSettings),ie.forEach((function(n){return t[e.state.editCam][n]=a[n]})),e.props.onChange("cameras",t,(function(){return e.setState({editCam:!1,editChanged:!1})}))}else e.setState({editCam:!1,editChanged:!1})},color:"primary"},E.a.t("Apply")),s.a.createElement(P.a,{onClick:function(){return e.setState({editCam:!1,editChanged:!1})}},E.a.t("Cancel"))))}return null}},{key:"renderCameraButtons",value:function(e,t){var a=this;return[s.a.createElement(B.a,{size:"small",key:"edit",className:this.props.classes.lineEdit,onClick:function(){a.editedSettingsOld=JSON.parse(JSON.stringify(a.props.native.cameras[t])),ie.forEach((function(e){console.log("delete "+e),delete a.editedSettingsOld[e]})),a.editedSettingsOld=JSON.stringify(a.editedSettingsOld),a.setState({editCam:t})}},s.a.createElement(G.a,{className:this.props.classes.buttonIcon})),t?s.a.createElement(B.a,{size:"small",key:"up",className:this.props.classes.lineUp,onClick:function(){var e=JSON.parse(JSON.stringify(a.props.native.cameras)),n=e[t];e.splice(t,1),e.splice(t-1,0,n),a.props.onChange("cameras",e)}},s.a.createElement(Q.a,{className:this.props.classes.buttonIcon})):s.a.createElement("div",{key:"upEmpty",className:this.props.classes.lineNoButtonUp},"\xa0"),t!==this.props.native.cameras.length-1?s.a.createElement(B.a,{size:"small",key:"down",className:this.props.classes.lineDown,onClick:function(){var e=JSON.parse(JSON.stringify(a.props.native.cameras)),n=e[t];e.splice(t,1),e.splice(t+1,0,n),a.props.onChange("cameras",e)}},s.a.createElement(Y.a,{className:this.props.classes.buttonIcon})):s.a.createElement("div",{key:"downEmpty",className:this.props.classes.lineNoButtonDown},"\xa0"),s.a.createElement(B.a,{size:"small",key:"delete",className:this.props.classes.lineDelete,onClick:function(){var e=JSON.parse(JSON.stringify(a.props.native.cameras));e.splice(t,1),a.props.onChange("cameras",e)}},s.a.createElement(V.a,{className:this.props.classes.buttonIcon}))]}},{key:"renderCamera",value:function(e,t){var a=this,n=this.props.native.cameras.find((function(a,n){return a.name===e.name&&n!==t}));this.props.native.cameras.forEach((function(e,t){e.id||(e.id=Date.now()+t)}));var r=e.url||"";if(r){var i=r.match(/^https?:\/\/([^@]+)@/);i&&i[1]&&(r=r.replace(i[1]+"@",""))}return s.a.createElement("div",{key:"cam"+e.id,className:this.props.classes.lineDiv},s.a.createElement("div",{className:this.props.classes.lineText},s.a.createElement(C.a,{className:this.props.classes.name,label:E.a.t("Name"),error:n,value:e.name,helperText:n?E.a.t("Duplicate name"):"",onChange:function(e){var n=JSON.parse(JSON.stringify(a.props.native.cameras));n[t].name=e.target.value.replace(/[^-_\da-zA-Z]/g,"_"),a.props.onChange("cameras",n)}})),s.a.createElement("div",{className:this.props.classes.lineDesc},s.a.createElement(C.a,{className:this.props.classes.desc,label:E.a.t("Description"),value:e.desc,onChange:function(e){var n=JSON.parse(JSON.stringify(a.props.native.cameras));n[t].desc=e.target.value,a.props.onChange("cameras",n)}})),s.a.createElement("div",{className:this.props.classes.lineType},s.a.createElement(w.a,{className:this.props.classes.type},s.a.createElement(j.a,null,E.a.t("Type")),s.a.createElement(x.a,{value:e.type,onChange:function(e){var n=JSON.parse(JSON.stringify(a.props.native.cameras));n[t].type=e.target.value,a.props.onChange("cameras",n)}},Object.keys(re).map((function(e){return s.a.createElement(A.a,{key:e,value:e},re[e].name||e)}))))),this.renderCameraButtons(e,t),r?s.a.createElement("div",{className:this.props.classes.lineUrl},r):null)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.props.classes.tab},s.a.createElement(B.a,{size:"small",onClick:function(){for(var t=JSON.parse(JSON.stringify(e.props.native.cameras)),a=1;t.find((function(e){return e.name==="cam"+a}));)a++;t.push({name:"cam"+a,type:"url",id:Date.now()}),e.props.onChange("cameras",t)}},s.a.createElement(K.a,null)),this.props.native.cameras?this.props.native.cameras.map((function(t,a){return e.renderCamera(t,a)})):null,this.renderConfigDialog(),this.renderMessage())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.instanceAlive!==e.instanceAlive?{instanceAlive:e.instanceAlive}:null}}]),a}(n.Component),ce=Object(d.a)((function(e){return{tab:{width:"100%",height:"100%"},lineDiv:{width:"100%",paddingBottom:5,borderBottom:"1px dashed gray"},lineText:{display:"inline-block",width:200},lineDesc:{display:"inline-block",width:"calc(100% - 600px)"},lineType:{display:"inline-block",width:200},lineEdit:{display:"inline-block",marginLeft:10,marginTop:10},lineUp:{display:"inline-block",marginLeft:10,marginTop:10},lineDown:{display:"inline-block",marginLeft:10,marginTop:10},lineDelete:{display:"inline-block",marginLeft:10,marginTop:10},lineUrl:{marginLeft:200,opacity:.5,fontSize:"small",fontStyle:"italic"},type:{width:"100%"},name:{width:"calc(100% - 10px)"},desc:{width:"calc(100% - 10px)"},lineNoButtonUp:{display:"inline-block",width:40,marginLeft:10},lineNoButtonDown:{display:"inline-block",width:40,marginLeft:10},divConfig:{verticalAlign:"top",width:"calc(100% - 300px)",display:"inline-block"},divTestCam:{width:300,display:"inline-block",verticalAlign:"top"},buttonIcon:{marginTop:6},buttonTest:{marginBottom:e.spacing(1)},imgTest:{width:"100%",height:"auto"},sampleUrl:{display:"block",marginTop:e.spacing(1)}}}))(oe),le=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(c.a)(this,n);var r={encryptedFields:["password"],adapterName:"cameras",doNotLoadAllObjects:!0};return r.translations={en:a(130),de:a(131),ru:a(132),pt:a(133),nl:a(134),fr:a(135),it:a(136),es:a(137),pl:a(138),"zh-cn":a(139)},(s=t.call(this,e,r)).socket.subscribeState(s.instanceId+".alive",(function(e,t){e&&s.state.alive!==(!!t&&t.val)&&s.setState({alive:!!t&&t.val})})),s}return Object(l.a)(n,[{key:"onConnectionReady",value:function(){var e=this;this.socket.getState(this.instanceId+".alive").then((function(t){e.state.alive!==(!!t&&t.val)&&e.setState({alive:!!t&&t.val}),e.state.native.key||setTimeout((function(){return e.updateNativeValue("key",(Math.round(1e11*Math.random())/1e5).toFixed(6))}))}))}},{key:"getSelectedTab",value:function(){var e=this.state.selectedTab;return e&&"options"!==e?"cameras"===e?1:void 0:0}},{key:"render",value:function(){var e=this;return this.state.loaded?s.a.createElement("div",{className:"App"},s.a.createElement(m.a,{position:"static"},s.a.createElement(h.a,{value:this.getSelectedTab(),onChange:function(t,a){return e.selectTab(t.target.parentNode.dataset.name,a)}},s.a.createElement(f.a,{selected:"options"===this.state.selectedTab,label:E.a.t("Options"),"data-name":"options"}),s.a.createElement(f.a,{selected:"cameras"===this.state.selectedTab,label:E.a.t("Cameras"),"data-name":"cameras"}))),s.a.createElement("div",{className:this.isIFrame?this.props.classes.tabContentIFrame:this.props.classes.tabContent},("options"===this.state.selectedTab||!this.state.selectedTab)&&s.a.createElement(q,{key:"options",common:this.common,socket:this.socket,native:this.state.native,encrypt:function(t,a){return a(e.encrypt(t))},decrypt:function(t,a){return a(e.decrypt(t))},onError:function(t){return e.setState({errorText:t})},onLoad:function(t){return e.onLoadConfig(t)},instance:this.instance,getIpAddresses:function(){return e.getIpAddresses()},getExtendableInstances:function(){return e.getExtendableInstances()},onConfigError:function(t){return e.setConfigurationError(t)},adapterName:this.adapterName,onChange:function(t,a,n){return e.updateNativeValue(t,a,n)}}),"cameras"===this.state.selectedTab&&s.a.createElement(ce,{key:"cameras",socket:this.socket,adapterName:this.adapterName,instance:this.instance,encrypt:function(t,a){return a(e.encrypt(t))},decrypt:function(t,a){return a(e.decrypt(t))},instanceAlive:this.state.alive,native:this.state.native,onChange:function(t,a,n){return e.updateNativeValue(t,a,n)}})),this.renderError(),this.renderSaveCloseButtons()):s.a.createElement(b.a,{theme:this.state.themeType})}}]),n}(g.a),pe=Object(d.a)((function(e){return{root:{},tabContent:{padding:10,height:"calc(100% - 64px - 48px - 20px)",overflow:"auto"},tabContentIFrame:{padding:10,height:"calc(100% - 64px - 48px - 20px - 38px)",overflow:"auto"}}}))(le);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(101),de=a.n(ue),me="light";!function e(){return console.log("\n\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \n\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557 \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\n\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\n"),console.log("Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters"),console.log("Help us to create open source project with reactJS!"),console.log("See you :)"),i.a.render(s.a.createElement(o.a,{theme:de()(me)},s.a.createElement(pe,{onThemeChange:function(t){me=t,e()}})),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[115,1,2]]]);
//# sourceMappingURL=main.f46400a2.chunk.js.map